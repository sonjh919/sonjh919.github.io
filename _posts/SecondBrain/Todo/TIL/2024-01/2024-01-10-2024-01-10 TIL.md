---
title: 2024-01-10 TIL
date: 2024-01-10 23:40
categories:
  - TIL
tags:
  - TIL
  - 내일배움캠프
  - 스파르타내일배움캠프
  - 스파르타내일배움캠프TIL
image: 
path:
---

- [x] 팀 프로젝트 시작
- [x] CI-CD 설정

## 💡 오늘의 회고
### 👀 CI-CD 설정
거의 3시간동안 CI-CD 설정을 했는데 실패했다. 진도는 나갔지만 너무 기가 빨린다..
깃허브 액션을 사용하여 CI-CD를 진행하고, Elastic Beanstalk을 이용하여 배포 및 관리를 하려고 했다. 그런데 일단 CI-CD 개념만 대충 알고 있었지 실제로 적용해보는 것은 처음이었다. 그래서 yml파일을 만드는 것부터가 일이었다. 게다가 설정도 정말 많이 해야 해서 왜 데브옵스라는 파트가 따로 있는지도 알았고, 결코 만만치 않은 분야임을 다시 한번 느꼈다. 정말 오류를 고치는 것이 자바 오류 고치는것보다 몇배는 더 힘든 것 같았다. 그래도 깃허브 액션에 적용하는 것 까지는 성공했는데, Beanstalk에서 배포하는 것에 오류가 났다. 아마 세팅 문제인 것 같은데, Beanstalk도 처음 써보는거라 조금 머리 박치기가 필요할 것 같다.
그동안 ec2에 도커로 생으로 해서 써왔는데, 나도 빨리 CI-CD를 적용하고 편한 개발을 해보고 싶다.

## 🔥 TIL: Today I Learned
### 👀 CI-CD git action
v4 버전으로 세팅하고, distribution으로 어떤 것을 사용할지 명시해주고(corretto의 17 버전을 사용했다.) gradle도 명시해준다.

dockerfile을 만들 때에는 /app을 working directory로 지정해 줬었는데, yml 파일은 깃허브에 올린 소스 코드 자체를 기반으로 하다 보니 /app을 해도 찾지 못하는 것 같다. 그래서 루트 경로로 세팅을 해주었다.

하다보니 빌드도 추가하게 되어서 사실 예전에 했던 dockerfile이 필요한지 잘 모르겠다. 이건 나중에 Beanstalk까지 완료되면 필요없어지게 되니까 뺄 생각을 하고 있다.

이후에 key setting을 해주고 pr을 넣어서 잘 돌아가는지 확인하는 방식으로 진행했다.

